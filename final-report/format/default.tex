%!TEX root = ../report.tex

\usepackage[left=30mm,top=35mm,right=30mm,bottom=35mm,headheight=30pt]{geometry}

%%% Line spacing
\usepackage{setspace}
\onehalfspacing

%%% Enforce UTF8 encoding
\usepackage[utf8]{inputenc}

%%% Colors
\usepackage[dvipsnames]{xcolor}

%%% Maths
\usepackage{amsmath}

%%% Header and footer
\usepackage{scrlayer-scrpage}
\ohead{SENG4800B - Individual Final Report}
\cfoot{\pagemark}

% http://tex.stackexchange.com/questions/198830/section-title-with-runin-and-koma-class

%%% Abstract
\usepackage{abstract}
\setlength{\absleftindent}{0pt}
\setlength{\absrightindent}{0pt}
\renewcommand{\absnamepos}{flushleft}
\renewcommand{\abstractnamefont}{\normalfont\Large\bfseries}

%%% Sections
% \usepackage{titlesec}
% \setcounter{secnumdepth}{4}

%%% Tables and figures
\usepackage{wrapfig}
\usepackage{caption}
% Set default font size
\usepackage[font=scriptsize]{subcaption}

%%% Tables
\usepackage{booktabs}
\usepackage{tabularx}

% Table vertical spacing
\renewcommand{\arraystretch}{1.5}
% Add caption spacing
\captionsetup[table]{belowskip=10pt}
% \captionsetup[figure]{belowskip=-10pt}
% \captionsetup[subfigure]{belowskip=10pt}

%%% Figures
% Frames around images
\newcommand{\bordercolor}{black!40}
\newcommand{\figureborder}[1]{%
	\setlength{\fboxsep}{0pt}%
	\setlength{\fboxrule}{0.5pt}%
	\color{\bordercolor}%
	\fbox{#1}%
}

%%% Lists
\usepackage{enumitem}

%%% Code
\input{format/code}

%%% References
\usepackage[backend=bibtex,style=authoryear,maxcitenames=2,maxbibnames=10]{biblatex}
\addbibresource{references.bib}

% Change font size
\renewcommand*{\bibfont}{\small}

% Add exclude category with a bibentry command
\DeclareBibliographyCategory{exclude}
\newcommand{\bibentry}[1]{%
	\addtocategory{exclude}{#1}%
	\fullcite{#1}%
}

% Continue footnotes after chapters
\usepackage{chngcntr}
\counterwithout{footnote}{chapter}

\makeatletter
\g@addto@macro\appendix{%
  \renewcommand*{\chapterformat}{%
    {\chapapp\nobreakspace\thechapter\autodot\enskip}%
  }
  \renewcommand*{\chaptermarkformat}{%
    {\chapapp\nobreakspace\thechapter\autodot\enskip}%
  }
  \let\oldaddcontentsline\addcontentsline
  \newcommand\hackedaddcontentsline[3]{\oldaddcontentsline{#1}{#2}{\chapapp\nobreakspace#3}}
  \let\oldchapter\chapter
  \renewcommand*\chapter[1]{%
    \let\addcontentsline\hackedaddcontentsline%
    \oldchapter{#1}%
    \let\addcontentsline\oldaddcontentsline%
  }
}
\makeatother

%%% Additional

% Links
\usepackage{hyperref}

% Floats
\usepackage{float}

% Todo notes
\usepackage{todonotes}
\presetkeys{todonotes}{inline}{}
